/* Customer */
DROP TABLE IF EXISTS `customers`;
CREATE TABLE `customers` (
  `CustID` int NOT NULL,
  `CompanyName` varchar(50) DEFAULT NULL,
  `ContactFirst` varchar(20) DEFAULT NULL,
  `ContactLast` varchar(30) DEFAULT NULL,
  `Address` varchar(40) DEFAULT NULL,
  `City` varchar(30) DEFAULT NULL,
  `State` varchar(2) DEFAULT NULL,
  `ZIP` varchar(10) DEFAULT NULL,
  `Phone` varchar(15) DEFAULT NULL,
  `Balance` decimal(19,2) DEFAULT NULL,
  PRIMARY KEY (`CustID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `drivers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `drivers` (
  `DriverID` int NOT NULL,
  `DriverFirst` varchar(30) DEFAULT NULL,
  `DriverLast` varchar(30) DEFAULT NULL,
  `SSN` varchar(9) DEFAULT NULL,
  `DOB` datetime DEFAULT NULL,
  `StartDate` datetime DEFAULT NULL,
  `EndDate` datetime DEFAULT NULL,
  `Address` varchar(40) DEFAULT NULL,
  `City` varchar(30) DEFAULT NULL,
  `State` varchar(2) DEFAULT NULL,
  `ZIP` varchar(10) DEFAULT NULL,
  `Phone` varchar(15) DEFAULT NULL,
  `Cell` varchar(15) DEFAULT NULL,
  `MileageRate` decimal(19,2) DEFAULT NULL,
  `Review` datetime DEFAULT NULL,
  `DrivingRecord` varchar(1) DEFAULT NULL,
  PRIMARY KEY (`DriverID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `warehouses`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `warehouses` (
  `WarehouseID` varchar(5) NOT NULL,
  `Address` varchar(40) DEFAULT NULL,
  `City` varchar(30) DEFAULT NULL,
  `State` varchar(2) DEFAULT NULL,
  `Zip` varchar(15) DEFAULT NULL,
  `Phone` varchar(15) DEFAULT NULL,
  `ClimateControl` tinyint(1) DEFAULT NULL,
  `SecurityCode` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`WarehouseID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `positions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `positions` (
  `PositionID` int NOT NULL,
  `Title` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`PositionID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


DROP TABLE IF EXISTS `employees`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `employees` (
  `EmpID` int NOT NULL,
  `EmpFirst` varchar(30) DEFAULT NULL,
  `EmpLast` varchar(30) DEFAULT NULL,
  `Address` varchar(40) DEFAULT NULL,
  `City` varchar(30) DEFAULT NULL,
  `State` varchar(2) DEFAULT NULL,
  `ZIP` varchar(10) DEFAULT NULL,
  `Phone` varchar(15) DEFAULT NULL,
  `Cell` varchar(15) DEFAULT NULL,
  `SSN` varchar(9) DEFAULT NULL,
  `DOB` datetime DEFAULT NULL,
  `StartDate` datetime DEFAULT NULL,
  `EndDate` datetime DEFAULT NULL,
  `PositionID` int DEFAULT NULL,
  `Salary` decimal(19,2) DEFAULT NULL,
  `HourlyRate` decimal(19,2) DEFAULT NULL,
  `Review` datetime DEFAULT NULL,
  `Memo` longtext,
  `WarehouseID` varchar(5) DEFAULT NULL,
  PRIMARY KEY (`EmpID`),
  KEY `WarehouseID` (`WarehouseID`),
  KEY `PositionID` (`PositionID`),
  CONSTRAINT `employees_ibfk_1` FOREIGN KEY (`WarehouseID`) REFERENCES `warehouses` (`WarehouseID`),
  CONSTRAINT `employees_ibfk_2` FOREIGN KEY (`PositionID`) REFERENCES `positions` (`PositionID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `vehicles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `vehicles` (
  `VehicleID` varchar(10) NOT NULL,
  `LicensePlateNum` varchar(7) DEFAULT NULL,
  `Axle` int DEFAULT NULL,
  `Color` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`VehicleID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `joborders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `joborders` (
  `JobID` int NOT NULL,
  `CustID` int DEFAULT NULL,
  `MoveDate` datetime DEFAULT NULL,
  `FromAddress` varchar(30) DEFAULT NULL,
  `FromCity` varchar(30) DEFAULT NULL,
  `FromState` varchar(2) DEFAULT NULL,
  `ToAddress` varchar(30) DEFAULT NULL,
  `ToCity` varchar(30) DEFAULT NULL,
  `ToState` varchar(2) DEFAULT NULL,
  `DistanceEst` int DEFAULT NULL,
  `WeightEst` int DEFAULT NULL,
  `Packing` tinyint(1) DEFAULT NULL,
  `Heavy` tinyint(1) DEFAULT NULL,
  `Storage` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`JobID`),
  KEY `CustID` (`CustID`),
  CONSTRAINT `joborders_ibfk_1` FOREIGN KEY (`CustID`) REFERENCES `customers` (`CustID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `jobdetails`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `jobdetails` (
  `JobID` int NOT NULL,
  `VehicleID` varchar(10) NOT NULL,
  `DriverID` int NOT NULL,
  `MileageActual` int DEFAULT NULL,
  `WeightActual` int DEFAULT NULL,
  PRIMARY KEY (`JobID`,`VehicleID`,`DriverID`),
  KEY `VehicleID` (`VehicleID`),
  KEY `DriverID` (`DriverID`),
  CONSTRAINT `jobdetails_ibfk_1` FOREIGN KEY (`JobID`) REFERENCES `joborders` (`JobID`),
  CONSTRAINT `jobdetails_ibfk_2` FOREIGN KEY (`VehicleID`) REFERENCES `vehicles` (`VehicleID`),
  CONSTRAINT `jobdetails_ibfk_3` FOREIGN KEY (`DriverID`) REFERENCES `drivers` (`DriverID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `storageunits`;
CREATE TABLE `storageunits` (
  `UnitID` int NOT NULL,
  `WarehouseID` varchar(5) NOT NULL,
  `UnitSize` varchar(30) DEFAULT NULL,
  `Rent` decimal(19,2) DEFAULT NULL,
  PRIMARY KEY (`UnitID`, `WarehouseID`),
  CONSTRAINT `storageunits_ibfk_1` FOREIGN KEY (`WarehouseID`) REFERENCES `warehouses` (`WarehouseID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


DROP TABLE IF EXISTS `unitrentals`;
CREATE TABLE `unitrentals` (
  `CustID` int NOT NULL,
  `WarehouseID` varchar(5) NOT NULL,
  `UnitID` int NOT NULL,
  `DateIn` datetime DEFAULT NULL,
  `DateOut` datetime DEFAULT NULL,
  PRIMARY KEY (`CustID`, `UnitID`, `WarehouseID`),
  CONSTRAINT `unitrentals_ibfk_1` FOREIGN KEY (`CustID`) REFERENCES `customers` (`CustID`),
  CONSTRAINT `unitrentals_ibfk_2` FOREIGN KEY (`WarehouseID`) REFERENCES `warehouses` (`WarehouseID`),
  CONSTRAINT `unitrentals_ibfk_3` FOREIGN KEY (`UnitID`, `WarehouseID`) REFERENCES `storageunits` (`UnitID`, `WarehouseID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
